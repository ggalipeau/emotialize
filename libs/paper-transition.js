window.paper=window.paper||(window.paper={});
(function(g){function k(a){if("transform"===a)return e.transform;for(var d=0,b="",c;d<=a.length;)c=a.charAt(d),b=/[A-Z]/.exec(c)?b+("-"+c.toLowerCase()):b+c.toLowerCase(),d++;return b}function m(a){a.easing||(a.easing="ease");a.delay||(a.delay=0)}function l(a,d){for(var b in d)a.style[k(b)]=d[b]}function n(a,d,b){if(e.transition){m(b);var c=[],f=d[1],g;for(g in f){var h=[];h.push(k(g));h.push(b.duration+"ms");h.push(b.easing);h.push(b.delay+"ms");c.push(h.join(" "))}l(a,d[0]);requestAnimationFrame(function(){a.style[e.transition]=
c.join(",");l(a,f)})}}var e=g.capabilities;g.transition=function(a,d,b){var c=new f;n(a,d,b);c.element=a;c._end=c.end.bind(c);a.addEventListener(e.transitionEnd,c._end,!1);return c};var f=function(){};f.prototype={end:function(a){a.stopPropagation();this.element.removeEventListener(e.transitionEnd,this._end,!1);this.element.style[e.transition]="none";this.element.style[e.transition]="";this._onfinish&&this._onfinish()}};e.transition&&Object.defineProperty(f.prototype,"onfinish",{get:function(){return this._onfinish},
set:function(a){this._onfinish=a}})})(paper);